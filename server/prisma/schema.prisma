// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Person {
  id   Int    @id @default(autoincrement())
  name String
  cpf  String

  workdaySchedules    WorkdaySchedules? @relation(fields: [workdaySchedules_id], references: [id])
  workdaySchedules_id Int?
  ClockPoints         ClockPoints[]

  @@unique([id, workdaySchedules_id])
  @@map("people")
}

model WorkdaySchedules {
  id       Int        @id @default(autoincrement())
  name     String
  Person   Person[]
  Workdays Workdays[]

  @@map("workday_schedules")
}

model Workdays {
  id       Int      @id @default(autoincrement())
  hour     DateTime
  week_day Int

  workdaySchedules   WorkdaySchedules @relation(fields: [workdaySchedulesId], references: [id])
  workdaySchedulesId Int

  @@map("workdays")
}

model ClockPoints {
  id    Int      @id @default(autoincrement())
  point DateTime

  person    Person @relation(fields: [person_id], references: [id])
  person_id Int

  @@map("clock_points")
}
